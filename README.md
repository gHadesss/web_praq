# Составление расписаний и ведение данных в тренинговом центре

## Возможные пользователи
Администрация тренингового центра, которая составляет расписание занятий и поддерживает информацию о слушателях, курсах и преподавателях в актуальном состоянии.

## Описание страниц
С любой страницы можно перейти на главную, нажав соответствующую кнопку.

![Alt text](docs/navigation.png)

### Главная страница
- Ссылки на списки всех студентов, преподавателей, курсов, компаний и групп студентов
- Ссылка на генератор расписания для студента/преподавателя
- Ссылка на страницу для редактирования расписания
- Адрес центра (все занятия проходят в одном здании) 
- P.S. "Расписание звонков" из начальной версии проекта было удалено, занятия назначаются на определенный datetime

### Страница со списком преподавателей
- Нажав на ФИО, пользователь попадает на персональную страницу преподавателя
- Сортировка по ФИО или названию компании-работодателя, поиск по ФИО
- Нажав на кнопку "Добавить", пользователь попадает на шаблон страницы преподавателя, который должен заполнить для добавления в базу 
- Для каждого преподавателя в списке указываются ФИО и название компании

### Страница со списком студентов
- Нажав на ФИО, пользователь попадает на персональную страницу студента
- Поиск по ФИО
- Нажав на кнопку "Добавить", пользователь попадает на шаблон страницы студента, который должен заполнить для добавления в базу 
- Для каждого студента в списке указываются ФИО, номер телефона, электронная почта

### Страница со списком курсов
- Нажав на курс, пользователь попадает на страницу курса
- Сортировка по названию курса или компании
- Нажав на кнопку "Добавить", пользователь попадает на шаблон страницы курса, который должен заполнить для добавления в базу 
- Для каждого курса в списке указываются названия курса и компании

### Страница со списком компаний
- Нажав на компанию, пользователь попадает на страницу компании
- Нажав на кнопку "Добавить", пользователь попадает на шаблон страницы компании, который должен заполнить для добавления в базу 
- Для каждой компании в списке указываются название 

### Страница со списком групп
- Группа - несколько студентов, которые начали одновременно слушать определенный курс у определенного преподавателя; у группы есть сгенерированный номер (в базе данных поле id имеет тип serial)
- Нажав на номер группы, пользователь попадает на страницу группы со списком студентов в ней
- Нажав на кнопку "Добавить", пользователь попадает на шаблон страницы группы, который должен заполнить для добавления в базу 
- Для каждой группы в списке указываются название курса и преподаватель

### Страницы для групп
- Номер группы и список ссылок на студентов этой группы
- Ссылка на курс, который слушает эта группа
- Ссылка на преподавателя, который ведет этот курс у этой группы
- Редактирование списка студентов, ссылки на читаемый курс, ссылки на читающего преподавателя
- Кнопка "Удалить группу", которая удаляет группу из базы (каскадно удаляя из расписания все занятия с этой группой)

### Персональные страницы преподавателей
- Указаны ФИО, контактные данные, краткая биография
- Возможность редактирования данных
- Ссылки на проводимые курсы и компанию-работодателя
- Кнопка "Удалить преподавателя", которая удаляет преподавателя из базы (каскадно удаляя все группы этого преподавателя)

### Персональные страницы студентов
- Указаны ФИО, контактные данные
- Возможность редактирования данных
- Ссылки на все курсы, которые слушал/слушает
- Кнопка "Удалить студента", которая удаляет студента из базы

### Страницы для курсов
- Указаны название курса, количество часов, краткое описание
- Возможность редактирования данных
- Ссылка на преподавателей, которые читают этот курс
- Кнопка "Удалить курс", которая удаляет курс из базы (каскадно удаляя все группы по этому курсу)

### Страницы для компаний
- Указаны название компании и адрес
- Возможность редактирования данных
- Ссылки на курсы компаниии
- Кнопка "Удалить компанию", которая удаляет компанию из базы (каскадно удаляя все курсы и преподавателей компании)

### Генератор расписания
- Выбор режима: расписание для студента/преподавателя
- Поля для ФИО, начальной и конечной даты в расписании

### Страница с готовым расписанием
- Просмотр сгенерированного расписания
- Кнопка для сохранения расписания на стороне клиента
- Поля в расписании
    - В случае студента - сгруппированные по дням ячейки с занятиями, в ячейках указаны номер группы, название курса, ФИО преподавателя, номер аудитории, время начала занятия, продолжительность занятия
    - В случае преподавателя - сгруппированные по дням ячейки с занятиями, в которых указаны аналогичная информация, кроме ФИО преподавателя

### Редактор расписания
- Выбор режима редактирования: добавление занятия, изменение существующего и удаление
- Поля для заполнения данных о занятии, которое необходимо добавить/изменить/удалить (поля из таблицы занятий: номер группы, дата и время, номер аудитории, продолжительность занятия)
- В случае редактирования уже существующего занятия поля для новых данных - дата и время, номер аудитории, продолжительность занятия
- Для согласованности предполагается триггер при добавлении/изменении занятий (например, чтобы в один момент времени аудиторию не смогли занять две разные группы)

## Схема базы данных
![Alt text](docs/schema.png)

## Сценарии использования

### Получение расписания на заданный интервал
- Перейти на главную
- Перейти на страницу с генератором расписания, нажав на кнопку "Получить расписание"
- Выбрать режим работы: "Расписание студента"/"Расписание преподавателя"
- Ввести корректные ФИО, начало и конец интервала
    - При некорректных ФИО или в случае, когда даты перепутаны, выводится сообщение об ошибке и просьба повторно ввести корректные данные
- Переход на страницу с готовым расписанием

### Добавление занятия в расписание
- Перейти на главную
- Перейти на страницу с редактором расписания, нажав на кнопку "Изменить расписание"
- Выбрать режим работы: "Добавить занятие"
- Заполнить данные о занятии: номер группы, дату и время проведения занятия, номер аудитории, продолжительность занятия
    - При некорректных данных выводится сообщение об ошибке (например, если аудитория уже занята)
- Подтвердить изменения

### Редактирование занятия в расписании
- Перейти на главную
- Перейти на страницу с редактором расписания, нажав на кнопку "Изменить расписание"
- Выбрать режим работы: "Изменить занятие"
- Заполнить данные о занятии, которое необходимо отредактировать
- Заполнить новые данные о занятии (аналогичные данные, кроме номера группы)
    - При некорректных новых или старых данных выводится сообщение об ошибке (данные неверны/такого занятия не существует)
- Подтвердить изменения

### Удаление занятия из расписания
- Перейти на главную
- Перейти на страницу с редактором расписания, нажав на кнопку "Изменить расписание"
- Выбрать режим работы: "Удалить занятие"
- Заполнить данные о занятии, которое необходимо удалить
    - При некорректных данных выводится сообщение об ошибке (такого занятия не существует)
- Подтвердить удаление

### Редактирование информации о студенте/преподавателе/курсе/компании/группе
- Перейти на главную
- Перейти на страницу с необходимым списком
- Найти в списке нужный элемент, нажать на него
- На персональной странице нажать на кнопку "Редактировать"
- Изменить желаемую информацию, подтвердить изменение

### Добавление студента/преподавателя/курса/компании/группы
- Перейти на главную
- Перейти на страницу с необходимым списком
- На этой странице нажать на кнопку "Добавить", после пользователя перенаправит на шаблон страницы, которую он должен заполнить и сохранить

### Удаление студента/преподавателя/курса/компании/группы
- Перейти на главную
- Перейти на страницу с необходимым списком
- Найти необходимый элемент в списке, перейти на индивидуальную страницу, нажав на него
- Нажать на кнопку "Удалить *", подтвердить удаление